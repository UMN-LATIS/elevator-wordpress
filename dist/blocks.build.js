!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t){var n=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=wp.i18n.__,o=wp.blocks.registerBlockType,i=wp.components,l=i.TextControl,a=i.CheckboxControl,c=(i.Text,i.Button),u=i.ExternalLink,d=(i.PanelBody,i.PanelRow,wp.blockEditor.InspectorControls,function(e){if(e.fileobjectid){var t=Object.entries(e).sort(function(e,t){return e[0].localeCompare(t[0])}).reduce(function(e,t){var r=n(t,2),o=r[0],i=r[1];return e[o]=i,e},{});return console.log(t),wp.shortcode.string({tag:"elevator",attrs:t})}}),s=null;o("umn-latis/elevator-embed",{title:r("Elevator Embed","elevator-embed"),icon:"format-video",category:"embed",keywords:[r("Brightcove","brightcove-gutenberg"),r("video","brightcove-gutenberg")],attributes:{width:{type:"string"},height:{type:"string"},includeLink:{type:"string"},includeSummary:{type:"string"},fileobjectid:{type:"string"},objectid:{type:"string"},sourceurl:{type:"string"}},edit:function(e){var t=e.attributes,n=e.setAttributes,r=e.className,o=(e.isSelected,t.width),i=t.height,d=(t.fileobjectid,t.objectid,t.sourceurl),m=t.includeLink,p=t.includeSummary;t.width||n({width:"640"}),t.height||n({height:"480"}),t.includeLink||n({includeSummary:elevator_settings_includeSummary}),t.includeSummary||n({includeLink:elevator_settings_includeLink});var f=function(e){console.log(e)};return window.addEventListener("message",function(e){"parentLoaded"==e.data&&s.postMessage({pluginSetup:!0,elevatorPlugin:"WordPress",includeMetadata:p,elevatorCallbackType:"JS",apiKey:"",timeStamp:"",entangledSecret:""},"*"),"undefined"!==typeof e.data.pluginResponse&&(console.log(e.data),n({fileobjectid:e.data.fileObjectId,objectid:e.data.objectId,sourceurl:e.data.currentLink}),f(e.data))},!1),wp.element.createElement("div",{className:r},wp.element.createElement("div",{class:"components-placeholder"},wp.element.createElement("span",null,"Embed Elevator Asset"),wp.element.createElement(c,{isSecondary:!0,onClick:function(){s=window.open(elevator_settings_endpoint,"elevatorPlugin")}},"Browse for Asset"),wp.element.createElement(a,{label:"Include a Link",help:"Should the rendered embed include a link to the source asset?",checked:"on"==m,onChange:function(e){return n({includeLink:e?"on":"off"})}}),wp.element.createElement(a,{label:"Include a Summary",help:"Should a metadata summary be displayed below the asset?",checked:"on"==p,onChange:function(e){return n({includeSummary:e?"on":"off"})}}),wp.element.createElement(l,{label:"Width of the embed",value:o,onChange:function(e){return n({width:e})}}),wp.element.createElement(l,{label:"Height of the embed",value:i,onChange:function(e){return n({height:e})}}),wp.element.createElement(u,{href:d},"Asset Link")))},save:function(e){var t=e.attributes,n=e.className;return console.log(t),console.log("Hey"),wp.element.createElement("div",{className:n},d(t))}})}]);